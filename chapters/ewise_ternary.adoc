//
// This confidential and proprietary software may be used only as
// authorised by a licensing agreement from ARM Limited
// (C) COPYRIGHT 2020-2021 ARM Limited
// ALL RIGHTS RESERVED
// The entire notice above must be reproduced on all authorised
// copies and copies may only be made to the extent permitted
// by a licensing agreement from ARM Limited.

=== Elementwise Ternary Operators

==== SELECT

Elementwise select of the output based on a condition.

*Arguments:*

|===
|Argument|Type|Name|Shape|Description

|Input|cmp_t|input1|shape1|Input selector tensor
|Input|in_t*|input2|shape2|Input value tensor if input1 is True
|Input|in_t*|input3|shape3|Input value tensor if input1 is False
|Output|in_t*|output|shape|Output tensor of same type as input2 and input3, with broadcast shape if necessary
|===

*Operation Function:*

[source,c++]
----
for_each(index in shape) {
    index1 = apply_broadcast(shape, shape1, index);
    index2 = apply_broadcast(shape, shape2, index);
    index3 = apply_broadcast(shape, shape3, index);
    cmp_t value1 = tensor_read<cmp_t>(input1, shape1, index1);
    in_t value2 = tensor_read<in_t>(input2, shape2, index2);
    in_t value3 = tensor_read<in_t>(input3, shape3, index3);
    in_t result;
    if (value1) {
         result = value2;
    } else {
         result = value3;
    }
    tensor_write<in_t>(output, shape, index, result);
}
----

*Supported Data Types:*
|===
|Profile|Mode|cmp_t|in_t

|Any|Boolean|bool_t|bool_t
|Any|signed 8|bool_t|int8_t
|Any|signed 16|bool_t|int16_t
|Any|signed 32|bool_t|int32_t
|MI, MT|floating-point|bool_t|float_t
|===
